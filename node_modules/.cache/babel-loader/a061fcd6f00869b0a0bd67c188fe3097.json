{"ast":null,"code":"import _objectSpread from\"C:/Users/saros/Desktop/MMN3/MMN3/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _toConsumableArray from\"C:/Users/saros/Desktop/MMN3/MMN3/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";import _regeneratorRuntime from\"C:/Users/saros/Desktop/MMN3/MMN3/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"C:/Users/saros/Desktop/MMN3/MMN3/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"C:/Users/saros/Desktop/MMN3/MMN3/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect,useCallback}from'react';import{useHistory}from'react-router-dom';import FilmContainer from'./FilmContainer';import MyNavbar from'./MyNavbar';// @ts-ignore\nimport{Button,Navbar,Container,Modal,Form,Row,Col}from'react-bootstrap';import db from'../firebase';// @ts-ignore\nimport firebase from'firebase';import{onSnapshot,collection,setDoc,deleteDoc,updateDoc,doc,arrayRemove,query,orderBy}from'firebase/firestore';import DateContainer from'./DateContainer';// @ts-ignore\nimport PoorPicker from'./PoorPicker';// @ts-ignore\nimport DateTimePicker from'react-datetime-picker';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Page=function Page(){var _useState=useState(false),_useState2=_slicedToArray(_useState,2),showFilm=_useState2[0],setShowFilm=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),showDate=_useState4[0],setShowDate=_useState4[1];var _useState5=useState(''),_useState6=_slicedToArray(_useState5,2),newFilm=_useState6[0],setNewFilm=_useState6[1];var _useState7=useState(function(){var tempdate=new Date();tempdate.setHours(19);tempdate.setMinutes(0);console.log(tempdate);return tempdate;}),_useState8=_slicedToArray(_useState7,2),newDate=_useState8[0],setNewDate=_useState8[1];// @ts-ignore\nvar _useState9=useState(localStorage.getItem('MMNusername')),_useState10=_slicedToArray(_useState9,2),username=_useState10[0],setUserName=_useState10[1];var _useState11=useState([]),_useState12=_slicedToArray(_useState11,2),filmList=_useState12[0],setFilmList=_useState12[1];var _useState13=useState(''),_useState14=_slicedToArray(_useState13,2),topfilm=_useState14[0],setTopFilm=_useState14[1];var _useState15=useState([]),_useState16=_slicedToArray(_useState15,2),dateList=_useState16[0],setDateList=_useState16[1];var _useState17=useState(''),_useState18=_slicedToArray(_useState17,2),topDate=_useState18[0],setTopDate=_useState18[1];var _useState19=useState(function(){var tempdate=new Date();tempdate.setHours(19);tempdate.setMinutes(0);console.log(tempdate);return tempdate;}),_useState20=_slicedToArray(_useState19,2),time=_useState20[0],setTime=_useState20[1];var messWithPicker=function messWithPicker(e){console.log(e);if(!e||!e.type){console.log(\"hello\");setTime(e);setNewDate(e);}};var handleCloseFilm=function handleCloseFilm(){setNewFilm(\"\");setShowFilm(false);};var getTempDate=function getTempDate(){var tempdate=new Date();tempdate.setHours(19);tempdate.setMinutes(0);tempdate.setMilliseconds(0);console.log(tempdate);return tempdate;};var handleShowFilm=function handleShowFilm(){return setShowFilm(true);};var addFilm=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var docRef,payload;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:if(!(newFilm&&newFilm!==undefined&&newFilm!==\" \")){_context.next=9;break;}docRef=doc(db,'films',newFilm);payload={recBy:username,votes:[username]};_context.next=5;return setDoc(docRef,payload);case 5:setNewFilm(\"\");setShowFilm(false);_context.next=10;break;case 9:alert(\"enter film name or cancel\");case 10:case\"end\":return _context.stop();}}},_callee);}));return function addFilm(){return _ref.apply(this,arguments);};}();var handleCloseDate=function handleCloseDate(){setNewDate(getTempDate());setTime(getTempDate());setShowDate(false);};var handleShowDate=function handleShowDate(){return setShowDate(true);};var addDate=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(){var month,nameDay,title,docRef,payload;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:if(!(newDate&&newDate!==undefined)){_context2.next=14;break;}month=newDate.toLocaleString('default',{month:'short'});nameDay=newDate.toLocaleString('default',{weekday:'short'});title=month+\" \"+newDate.getDate()+\" (\"+nameDay+') '+newDate.getHours()+':'+((newDate.getMinutes()<10?'0':'')+newDate.getMinutes());console.log(title);docRef=doc(db,'dates',title);payload={recBy:username,votes:[username],date:newDate};_context2.next=9;return setDoc(docRef,payload);case 9:setNewDate(getTempDate());setTime(getTempDate());setShowDate(false);_context2.next=15;break;case 14:alert(\"enter correct Date or cancel\");case 15:case\"end\":return _context2.stop();}}},_callee2);}));return function addDate(){return _ref2.apply(this,arguments);};}();var deleteFilm=/*#__PURE__*/function(){var _ref3=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee3(filmTitle){var docRef;return _regeneratorRuntime.wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:if(!(filmTitle&&filmTitle!==undefined&&filmTitle!==\" \")){_context3.next=6;break;}docRef=doc(db,'films',filmTitle);_context3.next=4;return deleteDoc(docRef);case 4:_context3.next=7;break;case 6:alert(\"Problem deleting\");case 7:case\"end\":return _context3.stop();}}},_callee3);}));return function deleteFilm(_x){return _ref3.apply(this,arguments);};}();var deleteDate=/*#__PURE__*/function(){var _ref4=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee4(dateTitle){var docRef;return _regeneratorRuntime.wrap(function _callee4$(_context4){while(1){switch(_context4.prev=_context4.next){case 0:if(!(dateTitle&&dateTitle!==undefined&&dateTitle!==\" \")){_context4.next=6;break;}docRef=doc(db,'dates',dateTitle);_context4.next=4;return deleteDoc(docRef);case 4:_context4.next=7;break;case 6:alert(\"Problem deleting\");case 7:case\"end\":return _context4.stop();}}},_callee4);}));return function deleteDate(_x2){return _ref4.apply(this,arguments);};}();var doVoteFilm=/*#__PURE__*/function(){var _ref5=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee5(votes,title){var docRef,_docRef;return _regeneratorRuntime.wrap(function _callee5$(_context5){while(1){switch(_context5.prev=_context5.next){case 0:if(!votes.includes(username)){_context5.next=6;break;}docRef=doc(db,'films',title);_context5.next=4;return updateDoc(docRef,{votes:arrayRemove(username)});case 4:_context5.next=9;break;case 6:_docRef=doc(db,'films',title);_context5.next=9;return updateDoc(_docRef,{votes:[].concat(_toConsumableArray(votes),[username])});case 9:case\"end\":return _context5.stop();}}},_callee5);}));return function doVoteFilm(_x3,_x4){return _ref5.apply(this,arguments);};}();var doVoteDate=/*#__PURE__*/function(){var _ref6=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee6(votes,title){var docRef,_docRef2;return _regeneratorRuntime.wrap(function _callee6$(_context6){while(1){switch(_context6.prev=_context6.next){case 0:if(!votes.includes(username)){_context6.next=6;break;}docRef=doc(db,'dates',title);_context6.next=4;return updateDoc(docRef,{votes:arrayRemove(username)});case 4:_context6.next=9;break;case 6:_docRef2=doc(db,'dates',title);_context6.next=9;return updateDoc(_docRef2,{votes:[].concat(_toConsumableArray(votes),[username])});case 9:case\"end\":return _context6.stop();}}},_callee6);}));return function doVoteDate(_x5,_x6){return _ref6.apply(this,arguments);};}();var logOut=function logOut(){localStorage.removeItem('MMNusername');goToAuth();};var history=useHistory();var goToAuth=useCallback(function(){return history.push('/');},[history]);useEffect(function(){var getAuthUser=/*#__PURE__*/function(){var _ref7=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee7(){var username2FromLocalStorage;return _regeneratorRuntime.wrap(function _callee7$(_context7){while(1){switch(_context7.prev=_context7.next){case 0:username2FromLocalStorage=localStorage.getItem('MMNusername');console.log(username2FromLocalStorage);if(username2FromLocalStorage){console.log(\"Auth success\");}else{console.log(\"Auth fail\");goToAuth();}case 3:case\"end\":return _context7.stop();}}},_callee7);}));return function getAuthUser(){return _ref7.apply(this,arguments);};}();getAuthUser();},[]);useEffect(function(){var unsub=onSnapshot(collection(db,'films'),function(snapshot){var templist=snapshot.docs.map(function(doc){return _objectSpread(_objectSpread({},doc.data()),{},{title:doc.id});});setFilmList(templist);var copylist=_toConsumableArray(templist);// @ts-ignore\nvar maximuum=Math.max.apply(Math,copylist.map(function(o){return o.votes.length;}));// @ts-ignore\nvar found=copylist.find(function(element){return element.votes.length===maximuum;});setTopFilm(found.title);});return unsub;},[]);useEffect(function(){var q=query(collection(db,\"dates\"),orderBy('date'));var unsub=onSnapshot(q,function(snapshot){var templist=snapshot.docs.map(function(doc){return _objectSpread(_objectSpread({},doc.data()),{},{title:doc.id});});setDateList(templist);if(templist){var copylist=_toConsumableArray(templist);// @ts-ignore\nvar maximuum=Math.max.apply(Math,copylist.map(function(o){return o.votes.length;}));// @ts-ignore\nvar found=copylist.find(function(element){return element.votes.length===maximuum;});if(found){setTopDate(found.title);}}});return unsub;},[]);return/*#__PURE__*/_jsxs(Container,{children:[/*#__PURE__*/_jsx(MyNavbar,{username:username,logOut:logOut}),/*#__PURE__*/_jsxs(Row,{children:[/*#__PURE__*/_jsxs(Col,{children:[/*#__PURE__*/_jsx(\"h1\",{className:\"text-center\",children:\"Days:\"}),/*#__PURE__*/_jsxs(\"h2\",{className:\"text-center\",children:[\"Top: \",topDate,\" \"]}),/*#__PURE__*/_jsxs(Container,{children:[/*#__PURE__*/_jsx(\"div\",{className:\"text-center\",children:/*#__PURE__*/_jsx(Button,{className:\" btn-lg btn-block\",variant:\"success\",onClick:handleShowDate,children:\" Add Time\"})}),dateList.map(function(date,index){return/*#__PURE__*/_jsx(DateContainer,{className:\"border border-primary\",onVote:doVoteDate,onDelete:deleteDate,index:date.title,title:date.title,recBy:date.recBy,votes:date.votes,username:username},index);})]})]}),/*#__PURE__*/_jsxs(Col,{children:[/*#__PURE__*/_jsx(\"h1\",{className:\"text-center\",children:\"Films:\"}),/*#__PURE__*/_jsxs(\"h2\",{className:\"text-center\",children:[\"Top: \",topfilm,\" \"]}),/*#__PURE__*/_jsxs(Container,{children:[/*#__PURE__*/_jsx(\"div\",{className:\"text-center\",children:/*#__PURE__*/_jsx(Button,{className:\" btn-lg btn-block\",variant:\"success\",onClick:handleShowFilm,children:\" Add Film\"})}),filmList.map(function(film,index){return/*#__PURE__*/_jsx(FilmContainer,{className:\"border border-primary\",onVote:doVoteFilm,onDelete:deleteFilm,index:film.title,title:film.title,recBy:film.recBy,votes:film.votes,username:username},index);})]})]})]}),/*#__PURE__*/_jsxs(Modal,{show:showFilm,onHide:handleCloseFilm,children:[/*#__PURE__*/_jsx(Modal.Header,{closeButton:true,children:/*#__PURE__*/_jsx(Modal.Title,{children:\"Add Film\"})}),/*#__PURE__*/_jsx(Modal.Body,{children:/*#__PURE__*/_jsx(Form,{children:/*#__PURE__*/_jsxs(Form.Group,{className:\"mb-3\",controlId:\"formGroupFilm\",children:[/*#__PURE__*/_jsx(Form.Label,{children:\"Enter Film Name:\"}),/*#__PURE__*/_jsx(Form.Control,{autoComplete:\"off\",onChange:function onChange(e){return setNewFilm(e.target.value);},type:\"text\",placeholder:\"What are we watching?\"})]})})}),/*#__PURE__*/_jsxs(Modal.Footer,{children:[/*#__PURE__*/_jsx(Button,{variant:\"secondary\",onClick:handleCloseFilm,children:\"Back\"}),/*#__PURE__*/_jsx(Button,{variant:\"primary\",onClick:addFilm,children:\"Slap it on!\"})]})]}),/*#__PURE__*/_jsxs(Modal,{show:showDate,onHide:handleCloseDate,children:[/*#__PURE__*/_jsx(Modal.Header,{closeButton:true,children:/*#__PURE__*/_jsx(Modal.Title,{children:\"Add Date\"})}),/*#__PURE__*/_jsx(Modal.Body,{children:/*#__PURE__*/_jsx(Form,{children:/*#__PURE__*/_jsxs(Form.Group,{className:\"mb-3\",controlId:\"formGroupDate\",children:[/*#__PURE__*/_jsx(Form.Label,{children:\"Enter New Date:\"}),/*#__PURE__*/_jsx(Container,{children:/*#__PURE__*/_jsx(DateTimePicker,{style:{color:'red'},onChange:function onChange(e){return messWithPicker(e);},value:time})})]})})}),/*#__PURE__*/_jsxs(Modal.Footer,{children:[/*#__PURE__*/_jsx(Button,{variant:\"secondary\",onClick:handleCloseDate,children:\"Back\"}),/*#__PURE__*/_jsx(Button,{variant:\"primary\",onClick:addDate,children:\"Slap it on!\"})]})]})]});};export default Page;","map":{"version":3,"sources":["C:/Users/saros/Desktop/MMN3/MMN3/src/components/Page.js"],"names":["React","useState","useEffect","useCallback","useHistory","FilmContainer","MyNavbar","Button","Navbar","Container","Modal","Form","Row","Col","db","firebase","onSnapshot","collection","setDoc","deleteDoc","updateDoc","doc","arrayRemove","query","orderBy","DateContainer","PoorPicker","DateTimePicker","Page","showFilm","setShowFilm","showDate","setShowDate","newFilm","setNewFilm","tempdate","Date","setHours","setMinutes","console","log","newDate","setNewDate","localStorage","getItem","username","setUserName","filmList","setFilmList","topfilm","setTopFilm","dateList","setDateList","topDate","setTopDate","time","setTime","messWithPicker","e","type","handleCloseFilm","getTempDate","setMilliseconds","handleShowFilm","addFilm","undefined","docRef","payload","recBy","votes","alert","handleCloseDate","handleShowDate","addDate","month","toLocaleString","nameDay","weekday","title","getDate","getHours","getMinutes","date","deleteFilm","filmTitle","deleteDate","dateTitle","doVoteFilm","includes","doVoteDate","logOut","removeItem","goToAuth","history","push","getAuthUser","username2FromLocalStorage","unsub","snapshot","templist","docs","map","data","id","copylist","maximuum","Math","max","apply","o","length","found","find","element","q","index","film","target","value","color"],"mappings":"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","sourcesContent":["import React, { useState, useEffect, useCallback } from 'react'\r\nimport { useHistory } from 'react-router-dom';\r\nimport FilmContainer from './FilmContainer';\r\nimport MyNavbar from './MyNavbar';\r\n// @ts-ignore\r\nimport { Button, Navbar, Container, Modal, Form, Row, Col } from 'react-bootstrap';\r\nimport db from '../firebase'\r\n// @ts-ignore\r\nimport firebase from 'firebase';\r\nimport { onSnapshot, collection, setDoc, deleteDoc, updateDoc, doc, arrayRemove, query, orderBy } from 'firebase/firestore';\r\nimport DateContainer from './DateContainer';\r\n// @ts-ignore\r\nimport PoorPicker from './PoorPicker'\r\n// @ts-ignore\r\nimport DateTimePicker from 'react-datetime-picker';\r\n\r\n\r\n\r\n\r\nconst Page = () => {\r\n\r\n    const [showFilm, setShowFilm] = useState(false);\r\n\r\n    const [showDate, setShowDate] = useState(false);\r\n\r\n    const [newFilm, setNewFilm] = useState('');\r\n\r\n    const [newDate, setNewDate] = useState(() => {\r\n        const tempdate = new Date()\r\n        tempdate.setHours(19)\r\n        tempdate.setMinutes(0)\r\n        console.log(tempdate)\r\n        return tempdate\r\n    });\r\n\r\n    // @ts-ignore\r\n    const [username, setUserName] = useState(localStorage.getItem('MMNusername'))\r\n\r\n    const [filmList, setFilmList] = useState([])\r\n\r\n    const [topfilm, setTopFilm] = useState('');\r\n\r\n    const [dateList, setDateList] = useState([])\r\n\r\n    const [topDate, setTopDate] = useState('');\r\n\r\n    const [time, setTime] = useState(() => {\r\n        const tempdate = new Date()\r\n        tempdate.setHours(19)\r\n        tempdate.setMinutes(0)\r\n        console.log(tempdate)\r\n        return tempdate\r\n    });\r\n\r\n    const messWithPicker = (e) => {\r\n        console.log(e)\r\n        if (!e || !e.type) {\r\n            console.log(\"hello\")\r\n            setTime(e)\r\n            setNewDate(e)\r\n        }\r\n    }\r\n\r\n    const handleCloseFilm = () => {\r\n        setNewFilm(\"\")\r\n        setShowFilm(false);\r\n    }\r\n\r\n\r\n    const getTempDate = () => {\r\n        const tempdate = new Date()\r\n        tempdate.setHours(19)\r\n        tempdate.setMinutes(0)\r\n        tempdate.setMilliseconds(0)\r\n        console.log(tempdate)\r\n        return tempdate\r\n    }\r\n\r\n    const handleShowFilm = () => setShowFilm(true);\r\n\r\n    const addFilm = async () => {\r\n        if (newFilm && newFilm !== undefined && newFilm !== \" \") {\r\n            const docRef = doc(db, 'films', newFilm)\r\n            const payload = { recBy: username, votes: [username] }\r\n            await setDoc(docRef, payload)\r\n            setNewFilm(\"\")\r\n            setShowFilm(false);\r\n        } else {\r\n            alert(\"enter film name or cancel\")\r\n        }\r\n    }\r\n\r\n    const handleCloseDate = () => {\r\n        setNewDate(getTempDate())\r\n        setTime(getTempDate())\r\n        setShowDate(false);\r\n    }\r\n\r\n    const handleShowDate = () => setShowDate(true);\r\n\r\n    const addDate = async () => {\r\n        if (newDate && newDate !== undefined) {\r\n            const month = newDate.toLocaleString('default', { month: 'short' })\r\n            const nameDay = newDate.toLocaleString('default', { weekday: 'short' })\r\n            const title = (month + \" \" + newDate.getDate() + \" (\" + nameDay + ') ' + newDate.getHours() + ':' + ((newDate.getMinutes() < 10 ? '0' : '') + newDate.getMinutes()))\r\n            console.log(title)\r\n            const docRef = doc(db, 'dates', title)\r\n            const payload = { recBy: username, votes: [username], date: newDate }\r\n            await setDoc(docRef, payload)\r\n            setNewDate(getTempDate())\r\n            setTime(getTempDate())\r\n            setShowDate(false);\r\n        } else {\r\n            alert(\"enter correct Date or cancel\")\r\n        }\r\n    }\r\n\r\n    const deleteFilm = async (filmTitle) => {\r\n        if (filmTitle && filmTitle !== undefined && filmTitle !== \" \") {\r\n            const docRef = doc(db, 'films', filmTitle)\r\n            await deleteDoc(docRef)\r\n        } else {\r\n            alert(\"Problem deleting\")\r\n        }\r\n    }\r\n\r\n    const deleteDate = async (dateTitle) => {\r\n        if (dateTitle && dateTitle !== undefined && dateTitle !== \" \") {\r\n            const docRef = doc(db, 'dates', dateTitle)\r\n            await deleteDoc(docRef)\r\n        } else {\r\n            alert(\"Problem deleting\")\r\n        }\r\n    }\r\n\r\n    const doVoteFilm = async (votes, title) => {\r\n\r\n        if (votes.includes(username)) {\r\n            const docRef = doc(db, 'films', title)\r\n            await updateDoc(docRef, {\r\n                votes: arrayRemove(username)\r\n            })\r\n        } else {\r\n            const docRef = doc(db, 'films', title)\r\n            await updateDoc(docRef, {\r\n                votes: [...votes, username]\r\n            })\r\n        }\r\n    }\r\n\r\n    const doVoteDate = async (votes, title) => {\r\n\r\n        if (votes.includes(username)) {\r\n            const docRef = doc(db, 'dates', title)\r\n            await updateDoc(docRef, {\r\n                votes: arrayRemove(username)\r\n            })\r\n        } else {\r\n            const docRef = doc(db, 'dates', title)\r\n            await updateDoc(docRef, {\r\n                votes: [...votes, username]\r\n            })\r\n        }\r\n    }\r\n\r\n    const logOut = () => {\r\n        localStorage.removeItem('MMNusername')\r\n        goToAuth()\r\n    }\r\n\r\n    const history = useHistory();\r\n    const goToAuth = useCallback(() => history.push('/'), [history]);\r\n\r\n\r\n\r\n\r\n    useEffect(() => {\r\n        const getAuthUser = async () => {\r\n            const username2FromLocalStorage = localStorage.getItem('MMNusername')\r\n            console.log(username2FromLocalStorage)\r\n            if (username2FromLocalStorage) {\r\n                console.log(\"Auth success\")\r\n            } else {\r\n                console.log(\"Auth fail\")\r\n                goToAuth()\r\n            }\r\n        }\r\n        getAuthUser()\r\n    }, [])\r\n\r\n    useEffect(() => {\r\n        const unsub = onSnapshot(collection(db, 'films'), (snapshot) => {\r\n            const templist = snapshot.docs.map(doc => ({ ...doc.data(), title: doc.id }))\r\n            setFilmList(templist)\r\n            const copylist = [...templist]\r\n            // @ts-ignore\r\n            const maximuum = Math.max.apply(Math, copylist.map(function (o) { return o.votes.length; }))\r\n            // @ts-ignore\r\n            const found = copylist.find(element => element.votes.length === maximuum)\r\n            setTopFilm(found.title)\r\n        });\r\n        return unsub;\r\n    }, [])\r\n\r\n    useEffect(() => {\r\n        const q = query(collection(db, \"dates\"), orderBy('date'));\r\n        const unsub = onSnapshot(q, (snapshot) => {\r\n            const templist = snapshot.docs.map(doc => ({ ...doc.data(), title: doc.id }))\r\n            setDateList(templist)\r\n            if (templist) {\r\n                const copylist = [...templist]\r\n                // @ts-ignore\r\n                const maximuum = Math.max.apply(Math, copylist.map(function (o) { return o.votes.length; }))\r\n                // @ts-ignore\r\n                const found = copylist.find(element => element.votes.length === maximuum)\r\n                if (found) {\r\n                    setTopDate(found.title)\r\n                }\r\n            }\r\n\r\n        });\r\n        return unsub;\r\n    }, [])\r\n\r\n\r\n    return (\r\n        <Container>\r\n            <MyNavbar username={username} logOut={logOut}></MyNavbar>\r\n            <Row>\r\n                <Col>\r\n                    <h1 className=\"text-center\" >Days:</h1>\r\n                    <h2 className=\"text-center\" >Top: {topDate} </h2>\r\n                    <Container >\r\n                        <div className='text-center'>\r\n                            <Button className=' btn-lg btn-block' variant=\"success\" onClick={handleShowDate}> Add Time</Button>\r\n                        </div>\r\n                        {dateList.map((date, index) => (\r\n                            <DateContainer className=\"border border-primary\" onVote={doVoteDate} onDelete={deleteDate} index={date.title} key={index} title={date.title} recBy={date.recBy} votes={date.votes} username={username} />\r\n                        ))}\r\n                    </Container>\r\n                </Col>\r\n                <Col>\r\n                    <h1 className=\"text-center\" >Films:</h1>\r\n                    <h2 className=\"text-center\" >Top: {topfilm} </h2>\r\n                    <Container >\r\n                        <div className='text-center'>\r\n                            <Button className=' btn-lg btn-block' variant=\"success\" onClick={handleShowFilm}> Add Film</Button>\r\n                        </div>\r\n                        {filmList.map((film, index) => (\r\n                            <FilmContainer className=\"border border-primary\" onVote={doVoteFilm} onDelete={deleteFilm} index={film.title} key={index} title={film.title} recBy={film.recBy} votes={film.votes} username={username} />\r\n                        ))}\r\n                    </Container>\r\n                </Col>\r\n            </Row>\r\n\r\n            <Modal show={showFilm} onHide={handleCloseFilm}>\r\n                <Modal.Header closeButton>\r\n                    <Modal.Title>Add Film</Modal.Title>\r\n                </Modal.Header>\r\n                <Modal.Body>\r\n                    <Form>\r\n                        <Form.Group className=\"mb-3\" controlId=\"formGroupFilm\">\r\n                            <Form.Label>Enter Film Name:</Form.Label>\r\n                            <Form.Control autoComplete='off' onChange={(e) => setNewFilm(e.target.value)} type=\"text\" placeholder=\"What are we watching?\" />\r\n                        </Form.Group>\r\n                    </Form>\r\n                </Modal.Body>\r\n                <Modal.Footer>\r\n                    <Button variant=\"secondary\" onClick={handleCloseFilm}>\r\n                        Back\r\n                    </Button>\r\n                    <Button variant=\"primary\" onClick={addFilm}>\r\n                        Slap it on!\r\n                    </Button>\r\n                </Modal.Footer>\r\n            </Modal>\r\n\r\n            <Modal show={showDate} onHide={handleCloseDate}>\r\n                <Modal.Header closeButton>\r\n                    <Modal.Title>Add Date</Modal.Title>\r\n                </Modal.Header>\r\n                <Modal.Body>\r\n\r\n                    <Form>\r\n                        <Form.Group className=\"mb-3\" controlId=\"formGroupDate\">\r\n                            <Form.Label>Enter New Date:</Form.Label>\r\n                            <Container>\r\n                                <DateTimePicker style={{ color: 'red' }}\r\n                                    onChange={e => messWithPicker(e)}\r\n                                    value={time}\r\n                                />\r\n                            </Container>\r\n\r\n                        </Form.Group>\r\n                    </Form>\r\n                </Modal.Body>\r\n                <Modal.Footer>\r\n                    <Button variant=\"secondary\" onClick={handleCloseDate}>\r\n                        Back\r\n                    </Button>\r\n                    <Button variant=\"primary\" onClick={addDate}>\r\n                        Slap it on!\r\n                    </Button>\r\n                </Modal.Footer>\r\n            </Modal>\r\n\r\n        </Container>\r\n    )\r\n}\r\n\r\nexport default Page\r\n"]},"metadata":{},"sourceType":"module"}