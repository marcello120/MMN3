{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\saros\\\\Desktop\\\\MMN\\\\mmn\\\\src\\\\components\\\\Auth.js\",\n    _s = $RefreshSig$();\n\n// @ts-nocheck\nimport { useState, useEffect } from 'react';\nimport React, { useCallback } from 'react';\nimport { useHistory } from 'react-router-dom';\nimport { Button, Form, Container, FloatingLabel } from 'react-bootstrap';\nimport db from '../firebase';\nimport firebase from 'firebase';\nimport { doc, getDoc } from 'firebase/firestore';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nconst Auth = props => {\n  _s();\n\n  const [users, setUsers] = useState([]);\n  const history = useHistory();\n  const goToPage = useCallback(() => history.push('/page'), [history]);\n  useEffect(() => {\n    const getAuthUser = async () => {\n      const username2FromLocalStorage = localStorage.getItem('MMNusername');\n      console.log(username2FromLocalStorage);\n\n      if (!username2FromLocalStorage || username2FromLocalStorage === undefined || username2FromLocalStorage === '') {\n        console.log(\"Auth fail\");\n      } else {\n        console.log(\"Auth success\");\n        goToPage();\n      }\n    };\n\n    return getAuthUser();\n  }, []);\n  useEffect(() => {\n    return getGang();\n  }, []);\n\n  const getGang = async () => {\n    const docRef = doc(db, \"users\", \"users\");\n    const docSnap = await getDoc(docRef);\n\n    if (docSnap.exists()) {\n      console.log(docSnap.data().users);\n      setUsers(docSnap.data().users);\n    }\n  };\n\n  const [username2, setUserName2] = useState(localStorage.getItem('username'));\n  const [username, setUserName] = useState('');\n\n  const onSubmit = e => {\n    if (!username || username === '' || username === undefined) {\n      e.preventDefault();\n      alert(\"Who are you?\");\n    } else {\n      localStorage.setItem(\"MMNusername\", username);\n      setUserName(localStorage.getItem('MMNusername'));\n      goToPage();\n    }\n  };\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: /*#__PURE__*/_jsxDEV(Container, {\n      children: /*#__PURE__*/_jsxDEV(Form, {\n        onSubmit: onSubmit,\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"m-3\",\n          children: /*#__PURE__*/_jsxDEV(FloatingLabel, {\n            controlId: \"floatingSelect\",\n            label: \"Choose your fighter!\",\n            children: /*#__PURE__*/_jsxDEV(Form.Select, {\n              \"aria-label\": \"Floating label select example\",\n              onChange: e => setUserName(e.target.value),\n              children: [/*#__PURE__*/_jsxDEV(\"option\", {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 68,\n                columnNumber: 29\n              }, this), users.map((user, index) => {\n                return /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: user,\n                  children: [\" \", user, \" \"]\n                }, index, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 70,\n                  columnNumber: 41\n                }, this);\n              })]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 67,\n              columnNumber: 25\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 66,\n            columnNumber: 21\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 65,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(Button, {\n          className: \"m-3\",\n          variant: \"success\",\n          type: \"submit\",\n          children: \"Give me the blood!\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 75,\n          columnNumber: 21\n        }, this), ' ']\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 13\n    }, this)\n  }, void 0, false);\n};\n\n_s(Auth, \"cOxIIiLAszn5+HiytUugXnDaNXk=\", false, function () {\n  return [useHistory];\n});\n\n_c = Auth;\nexport default Auth;\n\nvar _c;\n\n$RefreshReg$(_c, \"Auth\");","map":{"version":3,"sources":["C:/Users/saros/Desktop/MMN/mmn/src/components/Auth.js"],"names":["useState","useEffect","React","useCallback","useHistory","Button","Form","Container","FloatingLabel","db","firebase","doc","getDoc","Auth","props","users","setUsers","history","goToPage","push","getAuthUser","username2FromLocalStorage","localStorage","getItem","console","log","undefined","getGang","docRef","docSnap","exists","data","username2","setUserName2","username","setUserName","onSubmit","e","preventDefault","alert","setItem","target","value","map","user","index"],"mappings":"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","sourcesContent":["// @ts-nocheck\r\nimport { useState, useEffect } from 'react'\r\nimport React, { useCallback } from 'react';\r\nimport { useHistory } from 'react-router-dom';\r\nimport { Button, Form, Container, FloatingLabel, } from 'react-bootstrap';\r\nimport db from '../firebase'\r\nimport firebase from 'firebase';\r\nimport { doc, getDoc } from 'firebase/firestore';\r\n\r\n\r\nconst Auth = (props) => {\r\n\r\n    const [users, setUsers] = useState([]);\r\n\r\n    const history = useHistory();\r\n    const goToPage = useCallback(() => history.push('/page'), [history]);\r\n\r\n    useEffect(() => {\r\n        const getAuthUser = async () => {\r\n            const username2FromLocalStorage = localStorage.getItem('MMNusername')\r\n            console.log(username2FromLocalStorage)\r\n            if (!username2FromLocalStorage || username2FromLocalStorage === undefined || username2FromLocalStorage === '') {\r\n                console.log(\"Auth fail\")\r\n            } else {\r\n                console.log(\"Auth success\")\r\n                goToPage()\r\n\r\n            }\r\n        }\r\n        return getAuthUser()\r\n    }, [])\r\n\r\n    useEffect(() => {\r\n       return getGang()\r\n    }, [])\r\n\r\n    const getGang = async () => {\r\n        const docRef = doc(db, \"users\", \"users\");\r\n        const docSnap = await getDoc(docRef);\r\n        if(docSnap.exists()){\r\n            console.log(docSnap.data().users)\r\n            setUsers(docSnap.data().users)\r\n        }\r\n    }\r\n\r\n    const [username2, setUserName2] = useState(localStorage.getItem('username'))\r\n    const [username, setUserName] = useState('')\r\n\r\n    const onSubmit = (e) => {\r\n        if (!username || username === '' || username === undefined) {\r\n            e.preventDefault()\r\n            alert(\"Who are you?\")\r\n        } else {\r\n            localStorage.setItem(\"MMNusername\", username);\r\n            setUserName(localStorage.getItem('MMNusername'))\r\n            goToPage()\r\n        }\r\n    }\r\n\r\n\r\n    return (\r\n        <>\r\n            <Container>       \r\n                <Form onSubmit={onSubmit} >\r\n                <div className=\"m-3\">\r\n                    <FloatingLabel controlId=\"floatingSelect\" label=\"Choose your fighter!\">\r\n                        <Form.Select aria-label=\"Floating label select example\" onChange={(e) => setUserName(e.target.value)}>\r\n                            <option></option>\r\n                            {users.map((user, index) => {\r\n                                return (<option key={index} value={user}> {user} </option>)\r\n                            })}\r\n                        </Form.Select>\r\n                    </FloatingLabel>\r\n                    </div>\r\n                    <Button className=\"m-3\" variant=\"success\" type='submit' >Give me the blood!</Button>{' '}\r\n                </Form>\r\n            </Container>\r\n        </>\r\n    );\r\n};\r\n\r\nexport default Auth;"]},"metadata":{},"sourceType":"module"}